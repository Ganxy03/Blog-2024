"use strict";(self["webpackChunkblog2024"]=self["webpackChunkblog2024"]||[]).push([[12],{3012:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Login-Container"},[e("Login"),e("div",{staticClass:"pc"},[e("el-row",{staticClass:"login_father"},[e("el-col",{staticClass:"login_box",attrs:{span:8}},[e("div",{staticClass:"login"},[e("h2",[t._v("欢迎回来")]),e("p",{attrs:{id:"hitokoto"}},[e("a",{staticStyle:{"text-decoration":"none",color:"#333"},attrs:{href:"#",id:"hitokoto_text"}},[t._v(":D 获取中...")])]),e("el-button",{staticClass:"ds",staticStyle:{"margin-left":"16px"},attrs:{type:"text",size:"mini"},on:{click:t.LinkToHome}},[t._v("<返回")]),e("el-form",{staticClass:"login_form",attrs:{model:t.LoginData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"账号"}},[e("el-input",{attrs:{maxlength:"6",placeholder:"输入账号"},model:{value:t.LoginData.account,callback:function(e){t.$set(t.LoginData,"account",e)},expression:"LoginData.account"}})],1),e("el-form-item",{attrs:{label:"密码"}},[e("el-input",{attrs:{maxlength:"12",placeholder:"输入密码"},model:{value:t.LoginData.pwd,callback:function(e){t.$set(t.LoginData,"pwd",e)},expression:"LoginData.pwd"}})],1),e("el-form-item",{attrs:{label:"验证码"}},[e("el-row",[e("el-col",{attrs:{span:14}},[e("el-input",{attrs:{maxlength:"6",placeholder:"输入验证码"},model:{value:t.LoginData.verify,callback:function(e){t.$set(t.LoginData,"verify",e)},expression:"LoginData.verify"}})],1),e("el-col",{attrs:{span:10}},[e("p",{staticClass:"cp",on:{click:t.generate}},[t._v(t._s(t.generateCode))])])],1)],1),e("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[e("el-button",{staticStyle:{width:"40%"},on:{click:t.loginBtn}},[t._v(" 登陆 ")])],1)],1)],1)])],1)],1),e("div",{staticClass:"move"},[e("el-row",{staticClass:"login_father"},[e("el-col",{staticClass:"login_box",attrs:{span:24}},[e("div",{staticClass:"login"},[e("h2",[t._v("欢迎回来")]),e("a",{staticStyle:{"text-decoration":"none",color:"#333"},attrs:{href:"#",id:"hitokoto_text"}},[t._v(":D 获取中...")]),e("el-button",{staticClass:"ds",staticStyle:{"margin-left":"16px"},attrs:{type:"text",size:"mini"},on:{click:t.LinkToHome}},[t._v("<返回")]),e("el-form",{attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"账号"}},[e("el-input",{attrs:{maxlength:"6",placeholder:"输入账号"},model:{value:t.LoginData.account,callback:function(e){t.$set(t.LoginData,"account",e)},expression:"LoginData.account"}})],1),e("el-form-item",{attrs:{label:"密码"}},[e("el-input",{attrs:{maxlength:"12",placeholder:"输入密码"},model:{value:t.LoginData.pwd,callback:function(e){t.$set(t.LoginData,"pwd",e)},expression:"LoginData.pwd"}})],1),e("el-form-item",{attrs:{label:"验证码"}},[e("el-row",[e("el-col",{attrs:{span:14}},[e("el-input",{attrs:{maxlength:"6",placeholder:"输入验证码"},model:{value:t.LoginData.verify,callback:function(e){t.$set(t.LoginData,"verify",e)},expression:"LoginData.verify"}})],1),e("el-col",{attrs:{span:10}},[e("p",{staticClass:"cp",on:{click:t.generate}},[t._v(t._s(t.generateCode))])])],1)],1),e("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[e("el-button",{staticStyle:{width:"40%"},on:{click:t.loginBtn}},[t._v(" 登陆 ")])],1)],1)],1)])],1)],1)],1)},i=[],s=(a(4114),a(1755)),n={components:{Login:s.A},data(){return{motto:{},LoginData:{account:"",pwd:"",verify:""},generateCode:""}},created(){this.getMotto(),this.generate(),this.verifyLogin()},methods:{verifyLogin(){const t=localStorage.getItem("isLogined");"true"==t&&(setTimeout(function(){this.$router.push("/article/editor")}.bind(this),1e3),this.$message({message:"账号已经登陆",type:"warning"}))},generate(){const t=Math.floor(1e5+9e5*Math.random());this.generateCode=String(t),console.log(t)},getMotto(){fetch("https://v1.hitokoto.cn").then((t=>t.json())).then((t=>{const e=document.querySelector("#hitokoto_text");e.innerText=t.hitokoto})).catch(console.error)},LinkToHome(){this.$router.push("/").catch((t=>console.log(t)))},loginBtn(){if(""!=this.LoginData.account)if(""!=this.LoginData.pwd)if(""!=this.LoginData.verify){if(this.LoginData.verify!=this.generateCode)return this.$message({message:"验证码错误",type:"warning"}),this.generate(),void(this.LoginData.verify="");{console.log(this.LoginData);const t="http://124.221.138.245:40304/blog-account/login";fetch(`${t}?account=${this.LoginData.account}&pwd=${this.LoginData.pwd}`,{method:"POST",headers:{Accept:"Application/json","Centent-Type":"Application/json"}}).then((t=>t.text())).then((t=>{if(console.log(t),"Login success"==t)return localStorage.setItem("isLogined","true"),setTimeout(function(){this.$router.push("/article/editor")}.bind(this),3e3),void this.$message({message:"登陆成功",type:"success"});"Account not found or pwd is wrong"!=t||this.$message({message:"账号不存在或密码错误",type:"warning"})}))}}else this.$message({message:"验证码为空",type:"warning"});else this.$message({message:"密码为空",type:"warning"});else this.$message({message:"账号为空",type:"warning"})}}},l=n,c=a(1656),r=(0,c.A)(l,o,i,!1,null,null,null),g=r.exports}}]);
//# sourceMappingURL=12.3ae9d35e.js.map