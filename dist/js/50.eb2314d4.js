"use strict";(self["webpackChunkblog2024"]=self["webpackChunkblog2024"]||[]).push([[50],{6050:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Editor-Container"},[t("HeadNav"),t("div",{staticClass:"Editor_box"},[t("el-row",[t("el-col",{attrs:{span:18}},[t("el-input",{attrs:{placeholder:"输入标题"},model:{value:e.Article.title,callback:function(t){e.$set(e.Article,"title",t)},expression:"Article.title"}}),t("editor",{staticClass:"Editor",attrs:{placeholder:"Type here...","api-key":"ublhvveejzddur1ry6jxrqizz5urb3ri8w38goz9kskcr0mp",init:{toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | align lineheight | tinycomments | checklist numlist bullist indent outdent | emoticons charmap | removeformat",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount"],content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:18px }",menubar:"file edit view insert format about tools table help",directionality:"ltr",selector:"textarea",language:"zh_CN"}},model:{value:e.Article.content,callback:function(t){e.$set(e.Article,"content",t)},expression:"Article.content"}})],1),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"Right_ToolsBar"},[t("el-row",{staticClass:"postBtn"},[t("el-col",{attrs:{span:24}},[t("el-button",{on:{click:e.PostBtn}},[e._v("发布")])],1)],1)],1)])],1)],1)],1)},i=[],r=n(1755),s=(n(4114),["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"]),a=function(e){return-1!==s.indexOf(e)},l=function(e,t,n){Object.keys(t).filter(a).forEach((function(o){var i=t[o];"function"===typeof i&&("onInit"===o?i(e,n):n.on(o.substring(2),(function(e){return i(e,n)})))}))},c=function(e,t){var n,o=e.$props.modelEvents?e.$props.modelEvents:null,i=Array.isArray(o)?o.join(" "):o;e.$watch("value",(function(e,o){t&&"string"===typeof e&&e!==n&&e!==o&&(t.setContent(e),n=e)})),t.on(i||"change keyup undo redo",(function(){n=t.getContent(),e.$emit("input",n)}))},u=function(e,t,n){var o=t.$props.value?t.$props.value:"",i=t.$props.initialValue?t.$props.initialValue:"";n.setContent(o||i),t.$listeners.input&&c(t,n),l(e,t.$listeners,n)},p=0,d=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return p++,e+"_"+n+p+String(t)},h=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},m=function(e,t){return f(e).concat(f(t))},g=function(e,t,n,o){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e,i.addEventListener("load",o),i.src=n,t.head&&t.head.appendChild(i)},y=function(){return{listeners:[],scriptId:d("tiny-script"),scriptLoaded:!1}},v=function(e,t,n,o){e.scriptLoaded?o():(e.listeners.push(o),t.getElementById(e.scriptId)||g(e.scriptId,t,n,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},b=function(){return"undefined"!==typeof window?window:n.g},$=function(){var e=b();return e&&e.tinymce?e.tinymce:null},C={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},A=function(){return A=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)},w=y(),S=function(e,t,n){return e(n||"div",{attrs:{id:t}})},k=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},E=function(e){return function(){var t=A({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:m(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return u(n,e,t)})),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});h(e.element)&&(e.element.style.visibility=""),$().init(t)}},x={props:C,created:function(){this.elementId=this.$props.id||d("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==$())E(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",n=this.$props.apiKey?this.$props.apiKey:"no-api-key";v(w,e,"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js",E(this))}},beforeDestroy:function(){null!==$()&&$().remove(this.editor)},render:function(e){return this.inlineEditor?S(e,this.elementId,this.$props.tagName):k(e,this.elementId)}},D=x,O={components:{HeadNav:r.A,editor:D},data(){return{Article:{title:"",content:"",author:"Ganxy"}}},methods:{PostBtn(){if(""==this.Article.title)return void this.$message({message:"标题为空",type:"warning"});if(""==this.Article.content)return void this.$message({message:"内容为空",type:"warning"});const e="http://124.221.138.245:40304/blog-article/saveArticle";fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.Article)}).then((e=>{if(200==e.status)return e.text()})).then((e=>{console.log(e),"Save success"==e?this.$message({message:"发布成功",type:"success"}):"Article have exited"==e?this.$message({message:"文章已经存在",type:"warning"}):this.$message({message:"接口错误，请联系管理员",type:"warning"})}))}}},j=O,B=n(1656),P=(0,B.A)(j,o,i,!1,null,null,null),I=P.exports}}]);
//# sourceMappingURL=50.eb2314d4.js.map