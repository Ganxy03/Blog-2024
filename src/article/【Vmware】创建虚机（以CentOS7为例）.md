---
title: 【Vmware】创建虚机（以CentOS7为例）
date: 2023-07-11 17:12:27
tags:
---
## 前言
以CentOS7为例 用Vmware创建虚拟机
为了不占据C系统盘的空间也方便管理 你可以像我这样 在Vmware目录下创建两个文件夹
![Vmware](../data/img/2023/7/31.png)
这里一个文件夹就是一个虚机
![虚拟机目录](../data/img/2023/7/32.png)
![镜像目录](../data/img/2023/7/33.png)
这里我已经提前把此次要安装的镜像放在镜像的文件夹下了
我们现在开始
## 开始
### 配置VMware上的linux
打开VMware 选择文件/创建虚拟机 或者直接右边的创建虚拟机
![创建虚拟机](../data/img/2023/7/34.png)
我们选择自定义
![自定义](../data/img/2023/7/35.png)
兼容性默认
![下一步](../data/img/2023/7/36.png)
选择第二个安装程序光盘镜像文件 在浏览里选择放在VMware目录镜像文件夹下的CentOS7的ISO镜像
![选择镜像](../data/img/2023/7/37.png)
填写用户虚机的名字 和你的用户名及密码
![用户名及密码](../data/img/2023/7/38.png)
这里的名称随便（没所谓 无伤大雅）位置是指虚拟机安装的位置 把它放到我们准备好的VMware文件下的虚拟机文件夹
![虚拟机位置](../data/img/2023/7/39.png)
![虚拟机位置](../data/img/2023/7/40.png)
配置处理器 这里的处理器会分去物理机的性能 看着给 后面可以改
![处理器](../data/img/2023/7/41.png)
配置运存虚机Linux 1G够了
![运存](../data/img/2023/7/42.png)
配置网络类型 默认就好 不用过多配置 后面可改
![网络类型](../data/img/2023/7/43.png)
默认就好
![I/O控制器类型](../data/img/2023/7/44.png)
默认就好
![磁盘类型](../data/img/2023/7/45.png)
默认就好
![选择磁盘](../data/img/2023/7/46.png)
默认就好 你存储不够用10G也行 系统够装就好
![磁盘容量](../data/img/2023/7/47.png)
选择虚拟机的磁盘存储位置 就在这个虚机的文件夹下建个位置好了
![磁盘位置](../data/img/2023/7/48.png)
![磁盘位置](../data/img/2023/7/49.png)
这里是前面配置的清单 以后大部分都可以改的 麻不麻烦而已
![完成配置](../data/img/2023/7/50.png)
点击完成 就会开始装系统 等待就好 我们前面都配置过了 VMware会帮我们填充装系统时的信息 全程不用动 等给五分钟左右就好了
![装系统ing](../data/img/2023/7/51.png)
![装系统ing](../data/img/2023/7/52.png)
![装系统ing](../data/img/2023/7/53.png)
![装系统ing](../data/img/2023/7/54.png)
等到装完了之后就会跳到用户登陆的界面点开输入密码就好了
![装系统ing](../data/img/2023/7/55.png)
![装系统ing](../data/img/2023/7/56.png)
那么就进到系统里面来了 引导欢迎界面跟Windows差不多 不用看 叉掉就好了
![欢迎引导界面](../data/img/2023/7/57.png)
### 其他基础设置
#### 改时间
时间不太对 我们在设置里改个时区
![设置](../data/img/2023/7/58.png)
点开details
![details](../data/img/2023/7/59.png)
选额date&time 再点unlock 输入密码以获取权限 关掉自动 自己手动选择时区 选完点个done(完成)就好了 当然了 设置改好了可以顺手点个lock
![date&time](../data/img/2023/7/60.png)
![输入密码](../data/img/2023/7/61.png)
![选择时区](../data/img/2023/7/62.png)
![设置OK](../data/img/2023/7/63.png)
#### 设置中文
可能你英语不好 没关系 这里特别关怀 有中文哒~
同样在设置里 点开language 
![language](../data/img/2023/7/64.png)
选择汉语 点击done（完成）
![汉语](../data/img/2023/7/65.png)
重启一下（restart）
![restart](../data/img/2023/7/66.png)
重启么 要退出当前用户账号 退呗
![log out](../data/img/2023/7/67.png)
重新登回来 提示随系统更改名称 换呗
![换名称](../data/img/2023/7/68.png)
搞定
![BingGo~](../data/img/2023/7/69.png)
`ps题外话 `
其实Linux比windows的优势在运行高效的方面 所以一般不用带桌面的系统 本次教程用的镜像呢 其实也是可以选择不带桌面的 但是那对新人不太友好 感兴趣的可以自行琢磨 
但是！ 要是初体验呢 我们可以开启ssh通道 使用黑咕隆咚的命令框 浅浅踩一下无桌面的系统~ 那么咱们继续
#### 开启SSH服务
右键打开终端 
![终端](../data/img/2023/7/70.png)
这里我们会用到yum的包管理工具 人家大名全名叫Yellowdog Updater, Modified
所以我们来看看它 输入`yum -v`
```yum
yum -v

```
![yum](../data/img/2023/7/71.png)
就打印出了yum的版本
这是CentOS和Fedora都在用的包管理工具 系统预装好的
接下来我们需要用它来安装openssh-server的软件包
首先我们先列出yum包里是否安装了openssh
```openssh
sudo yum list installed openssh-server

```
![输入密码](../data/img/2023/7/72.png)
看不见密码是linux都在用的保护机制 就像平常输入密码转星号一样
报错了 所以直接切换root账号 启用最高权限了
```root
su

```
直接输入`su` 然后输入你设置的密码就好了
然后直接再输入刚才的命令 去掉sudo
```again
yum list installed openssh-server

```
![检查ssh](../data/img/2023/7/73.png)
![检查ssh](../data/img/2023/7/74.png)
这里我们可以看到 已经装好了openssh那么我们直接启动ssh就好了
```startssh
systemctl start sshd

```
我们可以用这条命令检查ssh是否开启
```inspect
systemctl status sshd

```
![ssh:active](../data/img/2023/7/75.png)
那么ssh就开好啦
接下来安利一个工具 超级好用`Final Shell` 安全性怎么样不知道 偶然间发现的试了一下超级好用 强烈推荐 打包放在[这里](http://download.ganxy03.cn/download/finalshell.zip)啦
首先我们先去查一下虚机的IP地址 
这里有两个网络接口的IP
+ ens33是物理网络接口 用于与物理网络进行通信
+ virbr0是虚拟网络接口 用于虚拟化环境中创建的虚拟网络
我们需要的是ens33的IP地址 例如我的192.168.74.131
![虚机的IP地址](../data/img/2023/7/76.png)
我们来到命令提示符ping一下虚机`（win+r 输入cmd）`
![ping虚机](../data/img/2023/7/77.png)
有返回的数据说明物理机能访问到虚机 那么在Final Shell里创建一个ssh连接
![新建一个连接](../data/img/2023/7/78.png)
填写主机地址 ssh默认端口22
使用密码连接 输入系统账号的用户名和密码
![新建连接](../data/img/2023/7/79.png)
完了之后在连接管理器里双击连接刚才创建的实例
![双击连接](../data/img/2023/7/80.png)
![接受保存密钥](../data/img/2023/7/81.png)
哒哒 看到这里恭喜你连接成功啦
![连接成功！](../data/img/2023/7/82.png)
#### 设置自启
咳咳 还没完 我们刚才只是一次启动 就像手机软件一个点一下才能动一下 每次都要开机手动打开ssh过于繁琐 所以我们设置这种必要的服务自行随着开机启动
```autostart
systemctl enable sshd

```
![设置自启](../data/img/2023/7/83.png)
我们来验证一下
重启
```reboot
reboot

```
![自启设置成功](../data/img/2023/7/84.png)
`小tips`
ssh连接开机直接在工具里登陆就可以了 VMware上面可以不用登陆
## 完
好啦 希望看到这里的你以后能将今天类似的思维带到其他的功能当中去
更多实用文章关注我的博客 不定时更新！
如果感觉不错 挺一个bo~

